!function(e){function n(){o(),jQuery("body").prepend('<div id="overlay-layer"></div>'),p=jQuery("#overlay-layer"),h(),t()}function o(){jQuery.fn.focusable=function(e){return Focusable.setFocus(this,e),this}}function t(){p.on("click",".column",u),jQuery(window).on("resize",i),jQuery(window).on("keyup",d)}function i(){v&&(v=b.findOnResize?jQuery(v.selector):v,c())}function d(e){b.hideOnESC&&27===e.keyCode&&y&&a()}function u(){b.hideOnClick&&a()}function l(e,n){jQuery("body").css("overflow","hidden"),b=jQuery.extend(b,n),v=e,c(),p.fadeIn(b.fadeDuration)}function r(){p.find(".column").remove()}function a(){y=!1,v=null,jQuery("body").css("overflow",""),p.fadeOut(b.fadeDuration,r)}function c(){if(v){var e=0;for(y=!0,r();4>e;)f(e),e++}}function f(e){var n=v.offset(),o=0,t=0,i=s(v.outerWidth()),d="100%",u="";switch(e){case 0:i=s(n.left);break;case 1:t=s(n.left),d=s(n.top);break;case 2:t=s(n.left),o=s(v.outerHeight()+n.top);break;case 3:i="100%",t=s(v.outerWidth()+n.left)}u="top:"+o+";left:"+t+";width:"+i+";height:"+d,p.append('<div class="column" style="'+u+'"></div>')}function s(e){return e+"px"}function h(){var e=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}();e.insertRule("#overlay-layer{ display:none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; overflow: hidden; pointer-events: none; }",0),e.insertRule("#overlay-layer .column{ position: absolute; background: rgba(0,0,0,0.8); pointer-events: all; }",1)}var p=null,v=null,y=!1,b={fadeDuration:700,hideOnClick:!1,hideOnESC:!1,findOnResize:!1};jQuery(document).ready(n),e.Focusable={setFocus:l,hide:a,refresh:c}}(window);